{
    "key": "lock_editing_with_tags",
    "name": "Add \"Order Can Be Edited\" tag and update after 24 hours to \"Order Cannot Be Edited\" tag when Shopify order is created",
    "version": "1.0.0",
    "description": "A customer may want to change their order after purchase. It could be that they made a mistake and chose the wrong color or size. With Mesa, each time an Order on Shopify is created, you can add an \u201cOrder Can Be Edited\u201d tag automatically to let back office staff know. Once the order ships and it\u2019s too late to make changes, Mesa updates the order for you by adding an \u201cOrder Cannot Be Edited\u201d tag.",
    "video": "",
    "readme": "",
    "tags": [],
    "source": "",
    "destination": "",
    "seconds": 60,
    "enabled": false,
    "logging": true,
    "debug": false,
    "config": {
        "inputs": [
            {
                "schema": 3,
                "trigger_type": "input",
                "type": "shopify",
                "entity": "order",
                "action": "created",
                "name": "Order Created",
                "key": "shopify",
                "metadata": [],
                "on_error": "default",
                "weight": 0
            }
        ],
        "outputs": [
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "tag_add",
                "name": "Order Add Tag - Apply initial tag",
                "key": "shopify_1",
                "metadata": {
                    "order_id": "{{shopify.id}}",
                    "body": {
                        "tag": "Order Can Be Edited"
                    }
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 0
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "retrieve",
                "name": "Retrieve Order",
                "key": "shopify_3",
                "metadata": {
                    "order_id": "{{shopify.id}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 1
            },
            {
                "schema": 2,
                "trigger_type": "output",
                "type": "delay",
                "name": "Delay",
                "key": "delay",
                "metadata": {
                    "amount": "24",
                    "unit": "hours",
                    "test_bypass": false
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 2
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "retrieve",
                "name": "Retrieve Order - Get latest order data",
                "key": "shopify_2",
                "metadata": {
                    "order_id": "{{delay.id}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 3
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "tag_remove",
                "name": "Order Remove Tag",
                "key": "shopify_4",
                "metadata": {
                    "order_id": "{{shopify_2.id}}",
                    "body": {
                        "tag": "Order Can Be Edited"
                    }
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 4
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "tag_add",
                "name": "Order Add Tag",
                "key": "shopify_5",
                "metadata": {
                    "order_id": "{{shopify_2.id}}",
                    "body": {
                        "tag": "Order Cannot Be Edited"
                    }
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 5
            }
        ],
        "storage": []
    }
}
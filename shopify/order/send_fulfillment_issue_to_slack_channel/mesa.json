{
    "name": "Send Fulfillment Issue To Slack Channel",
    "version": "1.0.0",
    "description": "Send fulfillment issue from Shopify to Slack channel when an order has not been fulfilled for N amount of days.",
    "key": "shopify/order/send_fulfillment_issue_to_slack_channel",
    "tags": [
        "Fulfillment"
    ],
    "source": "shopify",
    "destination": "slack",
    "enabled": false,
    "config": {
        "inputs": [
            {
                "trigger_type": "input",
                "type": "shopify_webhook",
                "name": "Shopify Order Webhook",
                "key": "in-shopify-order-webhook",
                "script": "in-shopify-order-webhook.js",
                "logging": "error",
                "topic": "orders/create"
            }
        ],
        "outputs": [
            {
                "trigger_type": "output",
                "type": "virtual_output",
                "name": "Orders Virtual Output",
                "key": "out-orders-virtual-output",
                "schedule": "0 9 * * *",
                "script": "out-orders-virtual-output.js",
                "logging": "error",
                "custom_connection": true,
                "parameters": "limit=-1&created_at_max={{date:7 days ago}}"
            },
            {
                "trigger_type": "output",
                "type": "custom",
                "name": "Send Slack Notification",
                "key": "out-send-slack-notification",
                "script": "out-send-slack-notification.js",
                "logging": "error"
            }
        ],
        "storage": [
            {
                "key": "slack-channel",
                "value": "#unfulfilled-orders"
            }
        ],
        "secrets": [
            {
                "key": "slack-webhook-url"
            }
        ]
    }
}
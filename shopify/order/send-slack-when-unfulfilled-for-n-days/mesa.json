{
  "name": "Send Slack Notification for Unfulfilled Orders",
  "version": "1.0.0",
  "description": "Checks orders and sends a Slack notification if order is not fulfilled after a set period of time.",
  "key": "shopify/order/send-slack-when-unfulfilled-for-n-days",
  "tags": ["orders", "slack"],
  "source": "shopify",
  "destination": "slack",
  "enabled": false,
  "config": {
    "inputs": [
      {
        "trigger_type": "input",
        "type": "shopify_webhook",
        "name": "Shopify Order Webhook",
        "key": "in-shopify-order-webhook",
        "script": "in-shopify-order-webhook.js",
        "logging": "error",
        "topic": "orders/create"
      }
    ],
    "outputs": [
      {
        "trigger_type": "output",
        "type": "virtual_output",
        "name": "Orders Virtual Output",
        "key": "out-orders-virtual-output",
        "schedule": "0 9 * * *",
        "script": "out-orders-virtual-output.js",
        "logging": "error",
        "custom_connection": true,
        "parameters": "limit=-1&created_at_max={date:7 days ago}"
      },
      {
        "trigger_type": "output",
        "enabled": true,
        "type": "custom",
        "name": "Send Slack Notification",
        "key": "out-send-slack-notification",
        "script": "out-send-slack-notification.js",
        "logging": "error"
      }
    ],
    "storage": [
      {
        "key": "slack-channel",
        "value": "#unfulfilled-orders"
      }
    ],
    "secrets": [
      {
        "key": "slack-webhook-url"
      }
    ]
  }
}

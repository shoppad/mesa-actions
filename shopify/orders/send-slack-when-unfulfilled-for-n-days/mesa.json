{
  "name": "Send Slack notification for unfulfilled orders",
  "version": "1.0.0",
  "description": "Checks orders and sends a Slack notification if order is not fulfilled after a set period of time.",
  "url": "shoppad/mesa-templates/shopify/orders/send-slack-when-unfulfilled-for-n-days",
  "documentation": "README.md",
  "tags": ["orders", "slack"],
  "source": "shopify",
  "destination": "slack",
  "config": {
    "inputs": [
      {
        "trigger_type": "input",
        "enabled": true,
        "type": "shopify_webhook",
        "name": "Orders Slack Created",
        "key": "in-orders-slack-created",
        "trigger_name": "In: Orders Slack Created",
        "script": "slack/unfulfilled-orders/in-orders-slack-created.js",
        "topic": "orders/create"
      }
    ],
    "outputs": [
      {
        "trigger_type": "output",
        "enabled": true,
        "type": "virtual_output",
        "name": "Orders Slack Created",
        "key": "out-orders-slack-created-vo",
        "trigger_name": "Out: Orders Slack Created",
        "schedule": "0 9 * * *",
        "script": "slack/unfulfilled-orders/out-orders-slack-created.js",
        "custom_connection": true,
        "parameters": "limit=-1&created_at_max={date:7 days ago}"
      },
      {
        "trigger_type": "output",
        "enabled": true,
        "type": "custom",
        "name": "Orders Slack Check Fulfilled",
        "key": "out-orders-slack-check-fulfilled",
        "trigger_name": "Out: Orders Slack Check Fulfilled",
        "script": "slack/unfulfilled-orders/out-orders-slack-check-fulfilled.js"
      }
    ],
    "storage": [
      {
        "name": "slack-unfulfilled-orders-channel",
        "value": "#unfulfilled-orders"
      }
    ],
    "secrets": [
      {
        "name": "slack-webhook-url"
      }
    ]
  },
  "files": [
    "slack/unfulfilled-orders/in-orders-slack-created.js",
    "slack/unfulfilled-orders/out-orders-slack-created.js",
    "slack/unfulfilled-orders/out-orders-slack-check-fulfilled.js"
  ]
}

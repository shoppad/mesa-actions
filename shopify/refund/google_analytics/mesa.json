{
    "key": "google_analytics",
    "name": "Track Shopify refunds in Google Analytics",
    "version": "1.0.0",
<<<<<<< HEAD
    "description": "Itâ€™s essential to track your product returns. By identifying which products are frequently sent back from customers, you can proceed to either remove the item from your product line or find ways to improve it (such as enhancing the quality). Thankfully, Mesa does all the hard work for you by keeping track of all your Shopify Returns within Google Analytics.",
=======
    "description": "It\u2019s essential to track your product returns. By identifying which products are frequently sent back from customers, you can proceed to either remove the item from your product line or find ways to improve it (such as enhancing the quality). Thankfully, MESA does all the hard work for you by keeping track of all your Shopify Returns within Google Analytics.",
>>>>>>> 7655f53 (Updating template)
    "video": "",
    "readme": "",
    "tags": [],
    "source": "",
    "destination": "",
    "seconds": 60,
    "enabled": false,
    "logging": true,
    "debug": false,
    "config": {
        "inputs": [
            {
                "schema": 3,
                "trigger_type": "input",
                "type": "shopify",
                "entity": "refund",
                "action": "created",
                "name": "Refund Created",
                "key": "shopify_refund",
                "metadata": [],
                "on_error": "default",
                "weight": 0
            }
        ],
        "outputs": [
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "shopify",
                "entity": "order",
                "action": "retrieve",
                "name": "Shopify Retrieve Order",
                "key": "shopify_order",
                "metadata": {
                    "order_id": "{{shopify_refund.order_id}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 0
            },
            {
                "schema": 2,
                "trigger_type": "output",
                "type": "custom",
                "name": "Calculate Total Refund Amount",
                "key": "custom",
                "metadata": {
                    "script": "custom.js"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 1
            },
            {
                "schema": 2,
                "trigger_type": "output",
                "type": "googleanalytics",
                "entity": "transaction",
                "action": "create",
                "name": "Create Transaction",
                "key": "googleanalytics_transaction",
                "metadata": {
                    "mapping": [
                        {
                            "destination": "tr",
                            "source": "{{custom.total_refund_amount}}"
                        },
                        {
                            "destination": "ti",
                            "source": "{{shopify_order.name}} - {{shopify_refund.id}}"
                        }
                    ]
                },
                "local_fields": [
                    {
                        "key": "mapping",
                        "type": "mapping",
                        "tokens": "brackets",
                        "location": "mapping"
                    }
                ],
                "on_error": "default",
                "weight": 2
            }
        ],
        "storage": []
    }
}
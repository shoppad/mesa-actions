{
    "key": "update_status_shipping_method",
    "name": "Update an order's status and send an email if Express shipping is enabled",
    "version": "1.0.0",
    "description": "Customers may select special shipping options such as Express for their custom orders. MESA will automatically update the order's manual status in Tracktor and email the customer to let them know that the shipping option is enabled. Your customer will be ecstatic to know that their order from you will quickly be on its way.",
    "video": "",
    "readme": "",
    "tags": [],
    "source": "",
    "destination": "",
    "seconds": 60,
    "enabled": false,
    "logging": true,
    "debug": false,
    "config": {
        "inputs": [
            {
                "schema": 3,
                "trigger_type": "input",
                "type": "shopify",
                "entity": "order",
                "action": "created",
                "name": "Order Created",
                "key": "shopify_order",
                "metadata": [],
                "on_error": "default",
                "weight": 0
            }
        ],
        "outputs": [
            {
                "schema": 4,
                "trigger_type": "output",
                "type": "filter",
                "name": "Filter",
                "key": "filter",
                "metadata": {
                    "a": "Express",
                    "comparison": "in",
                    "b": "{{shopify_order.shipping_lines[0].title}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 0
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "tracktor",
                "entity": "order",
                "action": "update",
                "name": "Update Order's Manual Status",
                "key": "tracktor_order",
                "metadata": {
                    "order_id": "{{shopify_order.id}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 1
            },
            {
                "schema": 4,
                "trigger_type": "output",
                "type": "email",
                "name": "Email",
                "key": "email",
                "metadata": {
                    "to": "{{shopify_order.email}}",
                    "subject": "An update on your order {{shopify_order.name}} ",
                    "message": "Hey {{shopify_order.customer.first_name}}!\n\nWe noticed that your order requires Express shipping. Our team is making sure that your order gets out of the door as soon as possible!\n\nThanks!\n- {{context.shop.name}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 2
            }
        ],
        "storage": []
    }
}
{
    "key": "tracktor/fulfillment/delay_in_transit_twilio_sms",
    "name": "Receive an SMS message if a package is delayed In Transit",
    "version": "1.0.0",
    "description": "When shipping time-sensitive products, it's imperative to know when there are delays so you can be proactive in handling customer communications. This template sends an SMS message via Twilio to the store owner when an order has been in transit for 60+ hours. By being alerted automatically, you can avoid unwelcome surprises.",
    "video": "",
    "readme": "",
    "tags": [],
    "source": "",
    "destination": "",
    "seconds": 60,
    "enabled": false,
    "logging": true,
    "debug": false,
    "config": {
        "inputs": [
            {
                "schema": 2,
                "trigger_type": "input",
                "type": "tracktor",
                "entity": "fulfillment",
                "action": "fulfillment\/in_transit",
                "name": "Tracktor Fulfillment Status is In Transit",
                "key": "tracktor_fulfillment",
                "metadata": [],
                "on_error": "default",
                "weight": 0
            }
        ],
        "outputs": [
            {
                "schema": 2,
                "trigger_type": "output",
                "type": "delay",
                "name": "Delay",
                "key": "delay",
                "metadata": {
                    "amount": "60",
                    "unit": "hours",
                    "test_bypass": true
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 0
            },
            {
                "schema": 3,
                "trigger_type": "output",
                "type": "tracktor",
                "entity": "fulfillment",
                "action": "retrieve",
                "name": "Tracktor Retrieve Fulfillment",
                "key": "tracktor_fulfillment_1",
                "metadata": {
                    "fulfillment_id": "{{delay.fulfillment_id}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 1
            },
            {
                "schema": 4,
                "trigger_type": "output",
                "type": "filter",
                "name": "Filter",
                "key": "filter",
                "metadata": {
                    "comparison": "does not equal",
                    "a": "{{tracktor_fulfillment_1.latest_status.label}}",
                    "b": "{{tracktor_fulfillment_1.status.delivered.label}}"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 2
            },
            {
                "schema": 4,
                "trigger_type": "output",
                "type": "twilio",
                "entity": "sms",
                "action": "send",
                "name": "Twilio Send SMS",
                "key": "twilio_sms",
                "metadata": {
                    "message": "Order {{tracktor_fulfillment_1.order_name}} has been in transit for over 60 hours!"
                },
                "local_fields": [],
                "on_error": "default",
                "weight": 3
            }
        ],
        "storage": []
    }
}